import _fsp from 'fs/promises';
import * as _path from 'path';
import { existsSync as _existsSync } from 'fs';
import { execa as _execa } from 'execa';
import { executeWithDebugLogger as _executeWithDebugLogger } from './execute_with_debugger_logger.js';
import { PackageManagerControllerBase } from './package_manager_controller_base.js';
import { PnpmLockFileReader } from './lock-file-reader/pnpm_lock_file_reader.js';
/**
 * PnpmPackageManagerController is an abstraction around pnpm commands that are needed to initialize a project and install dependencies
 */
export class PnpmPackageManagerController extends PackageManagerControllerBase {
    cwd;
    fsp;
    path;
    execa;
    executeWithDebugLogger;
    existsSync;
    lockFileReader;
    /**
     * constructor
     */
    constructor(cwd, fsp = _fsp, path = _path, execa = _execa, executeWithDebugLogger = _executeWithDebugLogger, existsSync = _existsSync, lockFileReader = new PnpmLockFileReader()) {
        super(cwd, 'pnpm', ['init'], 'install', lockFileReader, fsp, path, execa, executeWithDebugLogger, existsSync);
        this.cwd = cwd;
        this.fsp = fsp;
        this.path = path;
        this.execa = execa;
        this.executeWithDebugLogger = executeWithDebugLogger;
        this.existsSync = existsSync;
        this.lockFileReader = lockFileReader;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG5wbV9wYWNrYWdlX21hbmFnZXJfY29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wYWNrYWdlLW1hbmFnZXItY29udHJvbGxlci9wbnBtX3BhY2thZ2VfbWFuYWdlcl9jb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sSUFBSSxNQUFNLGFBQWEsQ0FBQztBQUMvQixPQUFPLEtBQUssS0FBSyxNQUFNLE1BQU0sQ0FBQztBQUM5QixPQUFPLEVBQUUsVUFBVSxJQUFJLFdBQVcsRUFBRSxNQUFNLElBQUksQ0FBQztBQUMvQyxPQUFPLEVBQUUsS0FBSyxJQUFJLE1BQU0sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUN4QyxPQUFPLEVBQUUsc0JBQXNCLElBQUksdUJBQXVCLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUN0RyxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUNwRixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSw2Q0FBNkMsQ0FBQztBQUVqRjs7R0FFRztBQUNILE1BQU0sT0FBTyw0QkFBNkIsU0FBUSw0QkFBNEI7SUFLdkQ7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFWckI7O09BRUc7SUFDSCxZQUNxQixHQUFXLEVBQ1gsTUFBTSxJQUFJLEVBQ1YsT0FBTyxLQUFLLEVBQ1osUUFBUSxNQUFNLEVBQ2QseUJBQXlCLHVCQUF1QixFQUNoRCxhQUFhLFdBQVcsRUFDeEIsaUJBQWlCLElBQUksa0JBQWtCLEVBQUU7UUFFNUQsS0FBSyxDQUNILEdBQUcsRUFDSCxNQUFNLEVBQ04sQ0FBQyxNQUFNLENBQUMsRUFDUixTQUFTLEVBQ1QsY0FBYyxFQUNkLEdBQUcsRUFDSCxJQUFJLEVBQ0osS0FBSyxFQUNMLHNCQUFzQixFQUN0QixVQUFVLENBQ1gsQ0FBQztRQW5CaUIsUUFBRyxHQUFILEdBQUcsQ0FBUTtRQUNYLFFBQUcsR0FBSCxHQUFHLENBQU87UUFDVixTQUFJLEdBQUosSUFBSSxDQUFRO1FBQ1osVUFBSyxHQUFMLEtBQUssQ0FBUztRQUNkLDJCQUFzQixHQUF0QixzQkFBc0IsQ0FBMEI7UUFDaEQsZUFBVSxHQUFWLFVBQVUsQ0FBYztRQUN4QixtQkFBYyxHQUFkLGNBQWMsQ0FBMkI7SUFjOUQsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9mc3AgZnJvbSAnZnMvcHJvbWlzZXMnO1xuaW1wb3J0ICogYXMgX3BhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBleGlzdHNTeW5jIGFzIF9leGlzdHNTeW5jIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHsgZXhlY2EgYXMgX2V4ZWNhIH0gZnJvbSAnZXhlY2EnO1xuaW1wb3J0IHsgZXhlY3V0ZVdpdGhEZWJ1Z0xvZ2dlciBhcyBfZXhlY3V0ZVdpdGhEZWJ1Z0xvZ2dlciB9IGZyb20gJy4vZXhlY3V0ZV93aXRoX2RlYnVnZ2VyX2xvZ2dlci5qcyc7XG5pbXBvcnQgeyBQYWNrYWdlTWFuYWdlckNvbnRyb2xsZXJCYXNlIH0gZnJvbSAnLi9wYWNrYWdlX21hbmFnZXJfY29udHJvbGxlcl9iYXNlLmpzJztcbmltcG9ydCB7IFBucG1Mb2NrRmlsZVJlYWRlciB9IGZyb20gJy4vbG9jay1maWxlLXJlYWRlci9wbnBtX2xvY2tfZmlsZV9yZWFkZXIuanMnO1xuXG4vKipcbiAqIFBucG1QYWNrYWdlTWFuYWdlckNvbnRyb2xsZXIgaXMgYW4gYWJzdHJhY3Rpb24gYXJvdW5kIHBucG0gY29tbWFuZHMgdGhhdCBhcmUgbmVlZGVkIHRvIGluaXRpYWxpemUgYSBwcm9qZWN0IGFuZCBpbnN0YWxsIGRlcGVuZGVuY2llc1xuICovXG5leHBvcnQgY2xhc3MgUG5wbVBhY2thZ2VNYW5hZ2VyQ29udHJvbGxlciBleHRlbmRzIFBhY2thZ2VNYW5hZ2VyQ29udHJvbGxlckJhc2Uge1xuICAvKipcbiAgICogY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCByZWFkb25seSBjd2Q6IHN0cmluZyxcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZnNwID0gX2ZzcCxcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgcGF0aCA9IF9wYXRoLFxuICAgIHByb3RlY3RlZCByZWFkb25seSBleGVjYSA9IF9leGVjYSxcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZXhlY3V0ZVdpdGhEZWJ1Z0xvZ2dlciA9IF9leGVjdXRlV2l0aERlYnVnTG9nZ2VyLFxuICAgIHByb3RlY3RlZCByZWFkb25seSBleGlzdHNTeW5jID0gX2V4aXN0c1N5bmMsXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGxvY2tGaWxlUmVhZGVyID0gbmV3IFBucG1Mb2NrRmlsZVJlYWRlcigpLFxuICApIHtcbiAgICBzdXBlcihcbiAgICAgIGN3ZCxcbiAgICAgICdwbnBtJyxcbiAgICAgIFsnaW5pdCddLFxuICAgICAgJ2luc3RhbGwnLFxuICAgICAgbG9ja0ZpbGVSZWFkZXIsXG4gICAgICBmc3AsXG4gICAgICBwYXRoLFxuICAgICAgZXhlY2EsXG4gICAgICBleGVjdXRlV2l0aERlYnVnTG9nZ2VyLFxuICAgICAgZXhpc3RzU3luYyxcbiAgICApO1xuICB9XG59XG4iXX0=