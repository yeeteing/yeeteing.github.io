import { Policy, PolicyStatement } from 'aws-cdk-lib/aws-iam';
import { Stack } from 'aws-cdk-lib';
import { AmplifyFault, AmplifyUserError } from '@aws-amplify/platform-core';
/**
 * Generates IAM policies scoped to a single userpool.
 */
export class UserPoolAccessPolicyFactory {
    userpool;
    namePrefix = 'userpoolAccess';
    stack;
    policyCount = 1;
    /**
     * Instantiate with the userpool to generate policies for
     */
    constructor(userpool) {
        this.userpool = userpool;
        this.stack = Stack.of(userpool);
    }
    createPolicy = (actions) => {
        if (actions.length === 0) {
            throw new AmplifyUserError('EmptyPolicyError', {
                message: 'At least one action must be specified.',
                resolution: 'Ensure all resource access rules specify at least one action.',
            });
        }
        const policyActions = new Set(actions.flatMap((action) => iamActionMap[action]));
        if (policyActions.size === 0) {
            throw new AmplifyFault('EmptyPolicyFault', {
                message: 'Failed to construct valid policy to access UserPool',
            });
        }
        const policy = new Policy(this.stack, `${this.namePrefix}${this.policyCount++}`, {
            statements: [
                new PolicyStatement({
                    actions: [...policyActions],
                    resources: [this.userpool.userPoolArn],
                }),
            ],
        });
        return policy;
    };
}
const iamActionMap = {
    manageUsers: [
        'cognito-idp:AdminConfirmSignUp',
        'cognito-idp:AdminCreateUser',
        'cognito-idp:AdminDeleteUser',
        'cognito-idp:AdminDeleteUserAttributes',
        'cognito-idp:AdminDisableUser',
        'cognito-idp:AdminEnableUser',
        'cognito-idp:AdminGetUser',
        'cognito-idp:AdminListGroupsForUser',
        'cognito-idp:AdminRespondToAuthChallenge',
        'cognito-idp:AdminSetUserMFAPreference',
        'cognito-idp:AdminSetUserSettings',
        'cognito-idp:AdminUpdateUserAttributes',
        'cognito-idp:AdminUserGlobalSignOut',
    ],
    manageGroupMembership: [
        'cognito-idp:AdminAddUserToGroup',
        'cognito-idp:AdminRemoveUserFromGroup',
    ],
    manageGroups: [
        'cognito-idp:GetGroup',
        'cognito-idp:ListGroups',
        'cognito-idp:CreateGroup',
        'cognito-idp:DeleteGroup',
        'cognito-idp:UpdateGroup',
    ],
    manageUserDevices: [
        'cognito-idp:AdminForgetDevice',
        'cognito-idp:AdminGetDevice',
        'cognito-idp:AdminListDevices',
        'cognito-idp:AdminUpdateDeviceStatus',
    ],
    managePasswordRecovery: [
        'cognito-idp:AdminResetUserPassword',
        'cognito-idp:AdminSetUserPassword',
    ],
    addUserToGroup: ['cognito-idp:AdminAddUserToGroup'],
    createGroup: ['cognito-idp:CreateGroup'],
    createUser: ['cognito-idp:AdminCreateUser'],
    deleteGroup: ['cognito-idp:DeleteGroup'],
    deleteUser: ['cognito-idp:AdminDeleteUser'],
    deleteUserAttributes: ['cognito-idp:AdminDeleteUserAttributes'],
    disableUser: ['cognito-idp:AdminDisableUser'],
    enableUser: ['cognito-idp:AdminEnableUser'],
    forgetDevice: ['cognito-idp:AdminForgetDevice'],
    getDevice: ['cognito-idp:AdminGetDevice'],
    getGroup: ['cognito-idp:GetGroup'],
    getUser: ['cognito-idp:AdminGetUser'],
    listUsers: ['cognito-idp:ListUsers'],
    listUsersInGroup: ['cognito-idp:ListUsersInGroup'],
    listDevices: ['cognito-idp:AdminListDevices'],
    listGroups: ['cognito-idp:ListGroups'],
    listGroupsForUser: ['cognito-idp:AdminListGroupsForUser'],
    removeUserFromGroup: ['cognito-idp:AdminRemoveUserFromGroup'],
    resetUserPassword: ['cognito-idp:AdminResetUserPassword'],
    setUserMfaPreference: ['cognito-idp:AdminSetUserMFAPreference'],
    setUserPassword: ['cognito-idp:AdminSetUserPassword'],
    setUserSettings: ['cognito-idp:AdminSetUserSettings'],
    updateDeviceStatus: ['cognito-idp:AdminUpdateDeviceStatus'],
    updateGroup: ['cognito-idp:UpdateGroup'],
    updateUserAttributes: ['cognito-idp:AdminUpdateUserAttributes'],
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlcnBvb2xfYWNjZXNzX3BvbGljeV9mYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3VzZXJwb29sX2FjY2Vzc19wb2xpY3lfZmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzlELE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDcEMsT0FBTyxFQUFFLFlBQVksRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBRzVFOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDJCQUEyQjtJQVNUO0lBUlosVUFBVSxHQUFHLGdCQUFnQixDQUFDO0lBQzlCLEtBQUssQ0FBUTtJQUV0QixXQUFXLEdBQUcsQ0FBQyxDQUFDO0lBRXhCOztPQUVHO0lBQ0gsWUFBNkIsUUFBbUI7UUFBbkIsYUFBUSxHQUFSLFFBQVEsQ0FBVztRQUM5QyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVELFlBQVksR0FBRyxDQUFDLE9BQXFCLEVBQUUsRUFBRTtRQUN2QyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDekIsTUFBTSxJQUFJLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFO2dCQUM3QyxPQUFPLEVBQUUsd0NBQXdDO2dCQUNqRCxVQUFVLEVBQ1IsK0RBQStEO2FBQ2xFLENBQUMsQ0FBQztRQUNMLENBQUM7UUFFRCxNQUFNLGFBQWEsR0FBRyxJQUFJLEdBQUcsQ0FDM0IsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQ2xELENBQUM7UUFFRixJQUFJLGFBQWEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDN0IsTUFBTSxJQUFJLFlBQVksQ0FBQyxrQkFBa0IsRUFBRTtnQkFDekMsT0FBTyxFQUFFLHFEQUFxRDthQUMvRCxDQUFDLENBQUM7UUFDTCxDQUFDO1FBRUQsTUFBTSxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQ3ZCLElBQUksQ0FBQyxLQUFLLEVBQ1YsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUN6QztZQUNFLFVBQVUsRUFBRTtnQkFDVixJQUFJLGVBQWUsQ0FBQztvQkFDbEIsT0FBTyxFQUFFLENBQUMsR0FBRyxhQUFhLENBQUM7b0JBQzNCLFNBQVMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDO2lCQUN2QyxDQUFDO2FBQ0g7U0FDRixDQUNGLENBQUM7UUFFRixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDLENBQUM7Q0FDSDtBQU1ELE1BQU0sWUFBWSxHQUFpQjtJQUNqQyxXQUFXLEVBQUU7UUFDWCxnQ0FBZ0M7UUFDaEMsNkJBQTZCO1FBQzdCLDZCQUE2QjtRQUM3Qix1Q0FBdUM7UUFDdkMsOEJBQThCO1FBQzlCLDZCQUE2QjtRQUM3QiwwQkFBMEI7UUFDMUIsb0NBQW9DO1FBQ3BDLHlDQUF5QztRQUN6Qyx1Q0FBdUM7UUFDdkMsa0NBQWtDO1FBQ2xDLHVDQUF1QztRQUN2QyxvQ0FBb0M7S0FDckM7SUFDRCxxQkFBcUIsRUFBRTtRQUNyQixpQ0FBaUM7UUFDakMsc0NBQXNDO0tBQ3ZDO0lBQ0QsWUFBWSxFQUFFO1FBQ1osc0JBQXNCO1FBQ3RCLHdCQUF3QjtRQUN4Qix5QkFBeUI7UUFDekIseUJBQXlCO1FBQ3pCLHlCQUF5QjtLQUMxQjtJQUNELGlCQUFpQixFQUFFO1FBQ2pCLCtCQUErQjtRQUMvQiw0QkFBNEI7UUFDNUIsOEJBQThCO1FBQzlCLHFDQUFxQztLQUN0QztJQUNELHNCQUFzQixFQUFFO1FBQ3RCLG9DQUFvQztRQUNwQyxrQ0FBa0M7S0FDbkM7SUFDRCxjQUFjLEVBQUUsQ0FBQyxpQ0FBaUMsQ0FBQztJQUNuRCxXQUFXLEVBQUUsQ0FBQyx5QkFBeUIsQ0FBQztJQUN4QyxVQUFVLEVBQUUsQ0FBQyw2QkFBNkIsQ0FBQztJQUMzQyxXQUFXLEVBQUUsQ0FBQyx5QkFBeUIsQ0FBQztJQUN4QyxVQUFVLEVBQUUsQ0FBQyw2QkFBNkIsQ0FBQztJQUMzQyxvQkFBb0IsRUFBRSxDQUFDLHVDQUF1QyxDQUFDO0lBQy9ELFdBQVcsRUFBRSxDQUFDLDhCQUE4QixDQUFDO0lBQzdDLFVBQVUsRUFBRSxDQUFDLDZCQUE2QixDQUFDO0lBQzNDLFlBQVksRUFBRSxDQUFDLCtCQUErQixDQUFDO0lBQy9DLFNBQVMsRUFBRSxDQUFDLDRCQUE0QixDQUFDO0lBQ3pDLFFBQVEsRUFBRSxDQUFDLHNCQUFzQixDQUFDO0lBQ2xDLE9BQU8sRUFBRSxDQUFDLDBCQUEwQixDQUFDO0lBQ3JDLFNBQVMsRUFBRSxDQUFDLHVCQUF1QixDQUFDO0lBQ3BDLGdCQUFnQixFQUFFLENBQUMsOEJBQThCLENBQUM7SUFDbEQsV0FBVyxFQUFFLENBQUMsOEJBQThCLENBQUM7SUFDN0MsVUFBVSxFQUFFLENBQUMsd0JBQXdCLENBQUM7SUFDdEMsaUJBQWlCLEVBQUUsQ0FBQyxvQ0FBb0MsQ0FBQztJQUN6RCxtQkFBbUIsRUFBRSxDQUFDLHNDQUFzQyxDQUFDO0lBQzdELGlCQUFpQixFQUFFLENBQUMsb0NBQW9DLENBQUM7SUFDekQsb0JBQW9CLEVBQUUsQ0FBQyx1Q0FBdUMsQ0FBQztJQUMvRCxlQUFlLEVBQUUsQ0FBQyxrQ0FBa0MsQ0FBQztJQUNyRCxlQUFlLEVBQUUsQ0FBQyxrQ0FBa0MsQ0FBQztJQUNyRCxrQkFBa0IsRUFBRSxDQUFDLHFDQUFxQyxDQUFDO0lBQzNELFdBQVcsRUFBRSxDQUFDLHlCQUF5QixDQUFDO0lBQ3hDLG9CQUFvQixFQUFFLENBQUMsdUNBQXVDLENBQUM7Q0FDaEUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElVc2VyUG9vbCB9IGZyb20gJ2F3cy1jZGstbGliL2F3cy1jb2duaXRvJztcbmltcG9ydCB7IFBvbGljeSwgUG9saWN5U3RhdGVtZW50IH0gZnJvbSAnYXdzLWNkay1saWIvYXdzLWlhbSc7XG5pbXBvcnQgeyBTdGFjayB9IGZyb20gJ2F3cy1jZGstbGliJztcbmltcG9ydCB7IEFtcGxpZnlGYXVsdCwgQW1wbGlmeVVzZXJFcnJvciB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9wbGF0Zm9ybS1jb3JlJztcbmltcG9ydCB7IEF1dGhBY3Rpb24gfSBmcm9tICcuL3R5cGVzLmpzJztcblxuLyoqXG4gKiBHZW5lcmF0ZXMgSUFNIHBvbGljaWVzIHNjb3BlZCB0byBhIHNpbmdsZSB1c2VycG9vbC5cbiAqL1xuZXhwb3J0IGNsYXNzIFVzZXJQb29sQWNjZXNzUG9saWN5RmFjdG9yeSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgbmFtZVByZWZpeCA9ICd1c2VycG9vbEFjY2Vzcyc7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3RhY2s6IFN0YWNrO1xuXG4gIHByaXZhdGUgcG9saWN5Q291bnQgPSAxO1xuXG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSB3aXRoIHRoZSB1c2VycG9vbCB0byBnZW5lcmF0ZSBwb2xpY2llcyBmb3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgdXNlcnBvb2w6IElVc2VyUG9vbCkge1xuICAgIHRoaXMuc3RhY2sgPSBTdGFjay5vZih1c2VycG9vbCk7XG4gIH1cblxuICBjcmVhdGVQb2xpY3kgPSAoYWN0aW9uczogQXV0aEFjdGlvbltdKSA9PiB7XG4gICAgaWYgKGFjdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgQW1wbGlmeVVzZXJFcnJvcignRW1wdHlQb2xpY3lFcnJvcicsIHtcbiAgICAgICAgbWVzc2FnZTogJ0F0IGxlYXN0IG9uZSBhY3Rpb24gbXVzdCBiZSBzcGVjaWZpZWQuJyxcbiAgICAgICAgcmVzb2x1dGlvbjpcbiAgICAgICAgICAnRW5zdXJlIGFsbCByZXNvdXJjZSBhY2Nlc3MgcnVsZXMgc3BlY2lmeSBhdCBsZWFzdCBvbmUgYWN0aW9uLicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBwb2xpY3lBY3Rpb25zID0gbmV3IFNldChcbiAgICAgIGFjdGlvbnMuZmxhdE1hcCgoYWN0aW9uKSA9PiBpYW1BY3Rpb25NYXBbYWN0aW9uXSksXG4gICAgKTtcblxuICAgIGlmIChwb2xpY3lBY3Rpb25zLnNpemUgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBBbXBsaWZ5RmF1bHQoJ0VtcHR5UG9saWN5RmF1bHQnLCB7XG4gICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gY29uc3RydWN0IHZhbGlkIHBvbGljeSB0byBhY2Nlc3MgVXNlclBvb2wnLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcG9saWN5ID0gbmV3IFBvbGljeShcbiAgICAgIHRoaXMuc3RhY2ssXG4gICAgICBgJHt0aGlzLm5hbWVQcmVmaXh9JHt0aGlzLnBvbGljeUNvdW50Kyt9YCxcbiAgICAgIHtcbiAgICAgICAgc3RhdGVtZW50czogW1xuICAgICAgICAgIG5ldyBQb2xpY3lTdGF0ZW1lbnQoe1xuICAgICAgICAgICAgYWN0aW9uczogWy4uLnBvbGljeUFjdGlvbnNdLFxuICAgICAgICAgICAgcmVzb3VyY2VzOiBbdGhpcy51c2VycG9vbC51c2VyUG9vbEFybl0sXG4gICAgICAgICAgfSksXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICk7XG5cbiAgICByZXR1cm4gcG9saWN5O1xuICB9O1xufVxuXG50eXBlIElhbUFjdGlvbk1hcCA9IHtcbiAgW2FjdGlvbiBpbiBBdXRoQWN0aW9uXTogc3RyaW5nW107XG59O1xuXG5jb25zdCBpYW1BY3Rpb25NYXA6IElhbUFjdGlvbk1hcCA9IHtcbiAgbWFuYWdlVXNlcnM6IFtcbiAgICAnY29nbml0by1pZHA6QWRtaW5Db25maXJtU2lnblVwJyxcbiAgICAnY29nbml0by1pZHA6QWRtaW5DcmVhdGVVc2VyJyxcbiAgICAnY29nbml0by1pZHA6QWRtaW5EZWxldGVVc2VyJyxcbiAgICAnY29nbml0by1pZHA6QWRtaW5EZWxldGVVc2VyQXR0cmlidXRlcycsXG4gICAgJ2NvZ25pdG8taWRwOkFkbWluRGlzYWJsZVVzZXInLFxuICAgICdjb2duaXRvLWlkcDpBZG1pbkVuYWJsZVVzZXInLFxuICAgICdjb2duaXRvLWlkcDpBZG1pbkdldFVzZXInLFxuICAgICdjb2duaXRvLWlkcDpBZG1pbkxpc3RHcm91cHNGb3JVc2VyJyxcbiAgICAnY29nbml0by1pZHA6QWRtaW5SZXNwb25kVG9BdXRoQ2hhbGxlbmdlJyxcbiAgICAnY29nbml0by1pZHA6QWRtaW5TZXRVc2VyTUZBUHJlZmVyZW5jZScsXG4gICAgJ2NvZ25pdG8taWRwOkFkbWluU2V0VXNlclNldHRpbmdzJyxcbiAgICAnY29nbml0by1pZHA6QWRtaW5VcGRhdGVVc2VyQXR0cmlidXRlcycsXG4gICAgJ2NvZ25pdG8taWRwOkFkbWluVXNlckdsb2JhbFNpZ25PdXQnLFxuICBdLFxuICBtYW5hZ2VHcm91cE1lbWJlcnNoaXA6IFtcbiAgICAnY29nbml0by1pZHA6QWRtaW5BZGRVc2VyVG9Hcm91cCcsXG4gICAgJ2NvZ25pdG8taWRwOkFkbWluUmVtb3ZlVXNlckZyb21Hcm91cCcsXG4gIF0sXG4gIG1hbmFnZUdyb3VwczogW1xuICAgICdjb2duaXRvLWlkcDpHZXRHcm91cCcsXG4gICAgJ2NvZ25pdG8taWRwOkxpc3RHcm91cHMnLFxuICAgICdjb2duaXRvLWlkcDpDcmVhdGVHcm91cCcsXG4gICAgJ2NvZ25pdG8taWRwOkRlbGV0ZUdyb3VwJyxcbiAgICAnY29nbml0by1pZHA6VXBkYXRlR3JvdXAnLFxuICBdLFxuICBtYW5hZ2VVc2VyRGV2aWNlczogW1xuICAgICdjb2duaXRvLWlkcDpBZG1pbkZvcmdldERldmljZScsXG4gICAgJ2NvZ25pdG8taWRwOkFkbWluR2V0RGV2aWNlJyxcbiAgICAnY29nbml0by1pZHA6QWRtaW5MaXN0RGV2aWNlcycsXG4gICAgJ2NvZ25pdG8taWRwOkFkbWluVXBkYXRlRGV2aWNlU3RhdHVzJyxcbiAgXSxcbiAgbWFuYWdlUGFzc3dvcmRSZWNvdmVyeTogW1xuICAgICdjb2duaXRvLWlkcDpBZG1pblJlc2V0VXNlclBhc3N3b3JkJyxcbiAgICAnY29nbml0by1pZHA6QWRtaW5TZXRVc2VyUGFzc3dvcmQnLFxuICBdLFxuICBhZGRVc2VyVG9Hcm91cDogWydjb2duaXRvLWlkcDpBZG1pbkFkZFVzZXJUb0dyb3VwJ10sXG4gIGNyZWF0ZUdyb3VwOiBbJ2NvZ25pdG8taWRwOkNyZWF0ZUdyb3VwJ10sXG4gIGNyZWF0ZVVzZXI6IFsnY29nbml0by1pZHA6QWRtaW5DcmVhdGVVc2VyJ10sXG4gIGRlbGV0ZUdyb3VwOiBbJ2NvZ25pdG8taWRwOkRlbGV0ZUdyb3VwJ10sXG4gIGRlbGV0ZVVzZXI6IFsnY29nbml0by1pZHA6QWRtaW5EZWxldGVVc2VyJ10sXG4gIGRlbGV0ZVVzZXJBdHRyaWJ1dGVzOiBbJ2NvZ25pdG8taWRwOkFkbWluRGVsZXRlVXNlckF0dHJpYnV0ZXMnXSxcbiAgZGlzYWJsZVVzZXI6IFsnY29nbml0by1pZHA6QWRtaW5EaXNhYmxlVXNlciddLFxuICBlbmFibGVVc2VyOiBbJ2NvZ25pdG8taWRwOkFkbWluRW5hYmxlVXNlciddLFxuICBmb3JnZXREZXZpY2U6IFsnY29nbml0by1pZHA6QWRtaW5Gb3JnZXREZXZpY2UnXSxcbiAgZ2V0RGV2aWNlOiBbJ2NvZ25pdG8taWRwOkFkbWluR2V0RGV2aWNlJ10sXG4gIGdldEdyb3VwOiBbJ2NvZ25pdG8taWRwOkdldEdyb3VwJ10sXG4gIGdldFVzZXI6IFsnY29nbml0by1pZHA6QWRtaW5HZXRVc2VyJ10sXG4gIGxpc3RVc2VyczogWydjb2duaXRvLWlkcDpMaXN0VXNlcnMnXSxcbiAgbGlzdFVzZXJzSW5Hcm91cDogWydjb2duaXRvLWlkcDpMaXN0VXNlcnNJbkdyb3VwJ10sXG4gIGxpc3REZXZpY2VzOiBbJ2NvZ25pdG8taWRwOkFkbWluTGlzdERldmljZXMnXSxcbiAgbGlzdEdyb3VwczogWydjb2duaXRvLWlkcDpMaXN0R3JvdXBzJ10sXG4gIGxpc3RHcm91cHNGb3JVc2VyOiBbJ2NvZ25pdG8taWRwOkFkbWluTGlzdEdyb3Vwc0ZvclVzZXInXSxcbiAgcmVtb3ZlVXNlckZyb21Hcm91cDogWydjb2duaXRvLWlkcDpBZG1pblJlbW92ZVVzZXJGcm9tR3JvdXAnXSxcbiAgcmVzZXRVc2VyUGFzc3dvcmQ6IFsnY29nbml0by1pZHA6QWRtaW5SZXNldFVzZXJQYXNzd29yZCddLFxuICBzZXRVc2VyTWZhUHJlZmVyZW5jZTogWydjb2duaXRvLWlkcDpBZG1pblNldFVzZXJNRkFQcmVmZXJlbmNlJ10sXG4gIHNldFVzZXJQYXNzd29yZDogWydjb2duaXRvLWlkcDpBZG1pblNldFVzZXJQYXNzd29yZCddLFxuICBzZXRVc2VyU2V0dGluZ3M6IFsnY29nbml0by1pZHA6QWRtaW5TZXRVc2VyU2V0dGluZ3MnXSxcbiAgdXBkYXRlRGV2aWNlU3RhdHVzOiBbJ2NvZ25pdG8taWRwOkFkbWluVXBkYXRlRGV2aWNlU3RhdHVzJ10sXG4gIHVwZGF0ZUdyb3VwOiBbJ2NvZ25pdG8taWRwOlVwZGF0ZUdyb3VwJ10sXG4gIHVwZGF0ZVVzZXJBdHRyaWJ1dGVzOiBbJ2NvZ25pdG8taWRwOkFkbWluVXBkYXRlVXNlckF0dHJpYnV0ZXMnXSxcbn07XG4iXX0=