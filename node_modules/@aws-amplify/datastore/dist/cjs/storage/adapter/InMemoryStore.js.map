{"version":3,"file":"InMemoryStore.js","sources":["../../../../src/storage/adapter/InMemoryStore.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InMemoryStore = void 0;\nexports.createInMemoryStore = createInMemoryStore;\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nclass InMemoryStore {\n    constructor() {\n        this.db = new Map();\n        this.getAllKeys = async () => {\n            return Array.from(this.db.keys());\n        };\n        this.multiGet = async (keys) => {\n            return keys.reduce((res, k) => {\n                res.push([k, this.db.get(k)]);\n                return res;\n            }, []);\n        };\n        this.multiRemove = async (keys, callback) => {\n            keys.forEach(k => this.db.delete(k));\n            typeof callback === 'function' && callback();\n        };\n        this.multiSet = async (entries, callback) => {\n            entries.forEach(([key, value]) => {\n                this.setItem(key, value);\n            });\n            typeof callback === 'function' && callback();\n        };\n        this.setItem = async (key, value) => {\n            return this.db.set(key, value);\n        };\n        this.removeItem = async (key) => {\n            return this.db.delete(key);\n        };\n        this.getItem = async (key) => {\n            return this.db.get(key);\n        };\n    }\n}\nexports.InMemoryStore = InMemoryStore;\nfunction createInMemoryStore() {\n    return new InMemoryStore();\n}\n"],"names":[],"mappings":";;AACA,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;AAC7D,OAAO,CAAC,aAAa,GAAG,MAAM;AAC9B,OAAO,CAAC,mBAAmB,GAAG,mBAAmB;AACjD;AACA;AACA,MAAM,aAAa,CAAC;AACpB,IAAI,WAAW,GAAG;AAClB,QAAQ,IAAI,CAAC,EAAE,GAAG,IAAI,GAAG,EAAE;AAC3B,QAAQ,IAAI,CAAC,UAAU,GAAG,YAAY;AACtC,YAAY,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC;AAC7C,QAAQ,CAAC;AACT,QAAQ,IAAI,CAAC,QAAQ,GAAG,OAAO,IAAI,KAAK;AACxC,YAAY,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,KAAK;AAC3C,gBAAgB,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,gBAAgB,OAAO,GAAG;AAC1B,YAAY,CAAC,EAAE,EAAE,CAAC;AAClB,QAAQ,CAAC;AACT,QAAQ,IAAI,CAAC,WAAW,GAAG,OAAO,IAAI,EAAE,QAAQ,KAAK;AACrD,YAAY,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAChD,YAAY,OAAO,QAAQ,KAAK,UAAU,IAAI,QAAQ,EAAE;AACxD,QAAQ,CAAC;AACT,QAAQ,IAAI,CAAC,QAAQ,GAAG,OAAO,OAAO,EAAE,QAAQ,KAAK;AACrD,YAAY,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,KAAK;AAC9C,gBAAgB,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC;AACxC,YAAY,CAAC,CAAC;AACd,YAAY,OAAO,QAAQ,KAAK,UAAU,IAAI,QAAQ,EAAE;AACxD,QAAQ,CAAC;AACT,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO,GAAG,EAAE,KAAK,KAAK;AAC7C,YAAY,OAAO,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC;AAC1C,QAAQ,CAAC;AACT,QAAQ,IAAI,CAAC,UAAU,GAAG,OAAO,GAAG,KAAK;AACzC,YAAY,OAAO,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC;AACtC,QAAQ,CAAC;AACT,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO,GAAG,KAAK;AACtC,YAAY,OAAO,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC;AACnC,QAAQ,CAAC;AACT,IAAI;AACJ;AACA,OAAO,CAAC,aAAa,GAAG,aAAa;AACrC,SAAS,mBAAmB,GAAG;AAC/B,IAAI,OAAO,IAAI,aAAa,EAAE;AAC9B;;"}