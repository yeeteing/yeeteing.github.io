// Versions of config schemas supported by this package version
import { AuthClientConfigContributorV1_1 as Auth1_1, AuthClientConfigContributor as Auth1_3, CustomClientConfigContributor as Custom1_1, DataClientConfigContributor as Data1_1, StorageClientConfigContributorV1 as Storage1, StorageClientConfigContributorV1_1 as Storage1_1, StorageClientConfigContributor as Storage1_2, VersionContributor as VersionContributor1_4, VersionContributorV1, VersionContributorV1_1, VersionContributorV1_2, VersionContributorV1_3, } from './client_config_contributor_v1.js';
import { ClientConfigVersionOption, } from '../client-config-types/client_config.js';
/**
 * Factory to generate client config contributors for client config schema given a version
 */
export class ClientConfigContributorFactory {
    modelIntrospectionSchemaAdapter;
    versionedClientConfigContributors;
    /**
     * Creates a list of all contributors available and caches it.
     */
    constructor(modelIntrospectionSchemaAdapter) {
        this.modelIntrospectionSchemaAdapter = modelIntrospectionSchemaAdapter;
        this.versionedClientConfigContributors = {
            [ClientConfigVersionOption.V1_4]: [
                new Auth1_3(),
                new Data1_1(this.modelIntrospectionSchemaAdapter),
                new Storage1_2(),
                new VersionContributor1_4(),
                new Custom1_1(),
            ],
            [ClientConfigVersionOption.V1_3]: [
                new Auth1_3(),
                new Data1_1(this.modelIntrospectionSchemaAdapter),
                new Storage1_2(),
                new VersionContributorV1_3(),
                new Custom1_1(),
            ],
            [ClientConfigVersionOption.V1_2]: [
                new Auth1_1(),
                new Data1_1(this.modelIntrospectionSchemaAdapter),
                new Storage1_2(),
                new VersionContributorV1_2(),
                new Custom1_1(),
            ],
            [ClientConfigVersionOption.V1_1]: [
                new Auth1_1(),
                new Data1_1(this.modelIntrospectionSchemaAdapter),
                new Storage1_1(),
                new VersionContributorV1_1(),
                new Custom1_1(),
            ],
            // Except for storage and version, other contributors are same as V1
            [ClientConfigVersionOption.V1]: [
                new Auth1_1(),
                new Data1_1(this.modelIntrospectionSchemaAdapter),
                new Storage1(),
                new VersionContributorV1(),
                new Custom1_1(),
            ],
            // Legacy config is derived from V1.4 (latest) of unified default config
            [ClientConfigVersionOption.V0]: [
                new Auth1_1(),
                new Data1_1(this.modelIntrospectionSchemaAdapter),
                new Storage1_2(),
                new VersionContributor1_4(),
                new Custom1_1(),
            ],
        };
    }
    /**
     * Return all the contributors for the given version
     */
    getContributors(version) {
        return this.versionedClientConfigContributors[version];
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpZW50X2NvbmZpZ19jb250cmlidXRvcl9mYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NsaWVudC1jb25maWctY29udHJpYnV0b3IvY2xpZW50X2NvbmZpZ19jb250cmlidXRvcl9mYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtEQUErRDtBQUMvRCxPQUFPLEVBQ0wsK0JBQStCLElBQUksT0FBTyxFQUMxQywyQkFBMkIsSUFBSSxPQUFPLEVBQ3RDLDZCQUE2QixJQUFJLFNBQVMsRUFDMUMsMkJBQTJCLElBQUksT0FBTyxFQUN0QyxnQ0FBZ0MsSUFBSSxRQUFRLEVBQzVDLGtDQUFrQyxJQUFJLFVBQVUsRUFDaEQsOEJBQThCLElBQUksVUFBVSxFQUM1QyxrQkFBa0IsSUFBSSxxQkFBcUIsRUFDM0Msb0JBQW9CLEVBQ3BCLHNCQUFzQixFQUN0QixzQkFBc0IsRUFDdEIsc0JBQXNCLEdBQ3ZCLE1BQU0sbUNBQW1DLENBQUM7QUFJM0MsT0FBTyxFQUVMLHlCQUF5QixHQUMxQixNQUFNLHlDQUF5QyxDQUFDO0FBQ2pEOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDhCQUE4QjtJQVV0QjtJQVRuQixpQ0FBaUMsQ0FHL0I7SUFFRjs7T0FFRztJQUNILFlBQ21CLCtCQUFnRTtRQUFoRSxvQ0FBK0IsR0FBL0IsK0JBQStCLENBQWlDO1FBRWpGLElBQUksQ0FBQyxpQ0FBaUMsR0FBRztZQUN2QyxDQUFDLHlCQUF5QixDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNoQyxJQUFJLE9BQU8sRUFBRTtnQkFDYixJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsK0JBQStCLENBQUM7Z0JBQ2pELElBQUksVUFBVSxFQUFFO2dCQUNoQixJQUFJLHFCQUFxQixFQUFFO2dCQUMzQixJQUFJLFNBQVMsRUFBRTthQUNoQjtZQUVELENBQUMseUJBQXlCLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ2hDLElBQUksT0FBTyxFQUFFO2dCQUNiLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQywrQkFBK0IsQ0FBQztnQkFDakQsSUFBSSxVQUFVLEVBQUU7Z0JBQ2hCLElBQUksc0JBQXNCLEVBQUU7Z0JBQzVCLElBQUksU0FBUyxFQUFFO2FBQ2hCO1lBRUQsQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDaEMsSUFBSSxPQUFPLEVBQUU7Z0JBQ2IsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLCtCQUErQixDQUFDO2dCQUNqRCxJQUFJLFVBQVUsRUFBRTtnQkFDaEIsSUFBSSxzQkFBc0IsRUFBRTtnQkFDNUIsSUFBSSxTQUFTLEVBQUU7YUFDaEI7WUFFRCxDQUFDLHlCQUF5QixDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNoQyxJQUFJLE9BQU8sRUFBRTtnQkFDYixJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsK0JBQStCLENBQUM7Z0JBQ2pELElBQUksVUFBVSxFQUFFO2dCQUNoQixJQUFJLHNCQUFzQixFQUFFO2dCQUM1QixJQUFJLFNBQVMsRUFBRTthQUNoQjtZQUVELG9FQUFvRTtZQUNwRSxDQUFDLHlCQUF5QixDQUFDLEVBQUUsQ0FBQyxFQUFFO2dCQUM5QixJQUFJLE9BQU8sRUFBRTtnQkFDYixJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsK0JBQStCLENBQUM7Z0JBQ2pELElBQUksUUFBUSxFQUFFO2dCQUNkLElBQUksb0JBQW9CLEVBQUU7Z0JBQzFCLElBQUksU0FBUyxFQUFFO2FBQ2hCO1lBRUQsd0VBQXdFO1lBQ3hFLENBQUMseUJBQXlCLENBQUMsRUFBRSxDQUFDLEVBQUU7Z0JBQzlCLElBQUksT0FBTyxFQUFFO2dCQUNiLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQywrQkFBK0IsQ0FBQztnQkFDakQsSUFBSSxVQUFVLEVBQUU7Z0JBQ2hCLElBQUkscUJBQXFCLEVBQUU7Z0JBQzNCLElBQUksU0FBUyxFQUFFO2FBQ2hCO1NBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7T0FFRztJQUNILGVBQWUsQ0FBQyxPQUE0QjtRQUMxQyxPQUFPLElBQUksQ0FBQyxpQ0FBaUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN6RCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWZXJzaW9ucyBvZiBjb25maWcgc2NoZW1hcyBzdXBwb3J0ZWQgYnkgdGhpcyBwYWNrYWdlIHZlcnNpb25cbmltcG9ydCB7XG4gIEF1dGhDbGllbnRDb25maWdDb250cmlidXRvclYxXzEgYXMgQXV0aDFfMSxcbiAgQXV0aENsaWVudENvbmZpZ0NvbnRyaWJ1dG9yIGFzIEF1dGgxXzMsXG4gIEN1c3RvbUNsaWVudENvbmZpZ0NvbnRyaWJ1dG9yIGFzIEN1c3RvbTFfMSxcbiAgRGF0YUNsaWVudENvbmZpZ0NvbnRyaWJ1dG9yIGFzIERhdGExXzEsXG4gIFN0b3JhZ2VDbGllbnRDb25maWdDb250cmlidXRvclYxIGFzIFN0b3JhZ2UxLFxuICBTdG9yYWdlQ2xpZW50Q29uZmlnQ29udHJpYnV0b3JWMV8xIGFzIFN0b3JhZ2UxXzEsXG4gIFN0b3JhZ2VDbGllbnRDb25maWdDb250cmlidXRvciBhcyBTdG9yYWdlMV8yLFxuICBWZXJzaW9uQ29udHJpYnV0b3IgYXMgVmVyc2lvbkNvbnRyaWJ1dG9yMV80LFxuICBWZXJzaW9uQ29udHJpYnV0b3JWMSxcbiAgVmVyc2lvbkNvbnRyaWJ1dG9yVjFfMSxcbiAgVmVyc2lvbkNvbnRyaWJ1dG9yVjFfMixcbiAgVmVyc2lvbkNvbnRyaWJ1dG9yVjFfMyxcbn0gZnJvbSAnLi9jbGllbnRfY29uZmlnX2NvbnRyaWJ1dG9yX3YxLmpzJztcblxuaW1wb3J0IHsgQ2xpZW50Q29uZmlnQ29udHJpYnV0b3IgfSBmcm9tICcuLi9jbGllbnQtY29uZmlnLXR5cGVzL2NsaWVudF9jb25maWdfY29udHJpYnV0b3IuanMnO1xuaW1wb3J0IHsgTW9kZWxJbnRyb3NwZWN0aW9uU2NoZW1hQWRhcHRlciB9IGZyb20gJy4uL21vZGVsX2ludHJvc3BlY3Rpb25fc2NoZW1hX2FkYXB0ZXIuanMnO1xuaW1wb3J0IHtcbiAgQ2xpZW50Q29uZmlnVmVyc2lvbixcbiAgQ2xpZW50Q29uZmlnVmVyc2lvbk9wdGlvbixcbn0gZnJvbSAnLi4vY2xpZW50LWNvbmZpZy10eXBlcy9jbGllbnRfY29uZmlnLmpzJztcbi8qKlxuICogRmFjdG9yeSB0byBnZW5lcmF0ZSBjbGllbnQgY29uZmlnIGNvbnRyaWJ1dG9ycyBmb3IgY2xpZW50IGNvbmZpZyBzY2hlbWEgZ2l2ZW4gYSB2ZXJzaW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBDbGllbnRDb25maWdDb250cmlidXRvckZhY3Rvcnkge1xuICB2ZXJzaW9uZWRDbGllbnRDb25maWdDb250cmlidXRvcnM6IFJlY29yZDxcbiAgICBDbGllbnRDb25maWdWZXJzaW9uLFxuICAgIENsaWVudENvbmZpZ0NvbnRyaWJ1dG9yW11cbiAgPjtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGxpc3Qgb2YgYWxsIGNvbnRyaWJ1dG9ycyBhdmFpbGFibGUgYW5kIGNhY2hlcyBpdC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgbW9kZWxJbnRyb3NwZWN0aW9uU2NoZW1hQWRhcHRlcjogTW9kZWxJbnRyb3NwZWN0aW9uU2NoZW1hQWRhcHRlcixcbiAgKSB7XG4gICAgdGhpcy52ZXJzaW9uZWRDbGllbnRDb25maWdDb250cmlidXRvcnMgPSB7XG4gICAgICBbQ2xpZW50Q29uZmlnVmVyc2lvbk9wdGlvbi5WMV80XTogW1xuICAgICAgICBuZXcgQXV0aDFfMygpLFxuICAgICAgICBuZXcgRGF0YTFfMSh0aGlzLm1vZGVsSW50cm9zcGVjdGlvblNjaGVtYUFkYXB0ZXIpLFxuICAgICAgICBuZXcgU3RvcmFnZTFfMigpLFxuICAgICAgICBuZXcgVmVyc2lvbkNvbnRyaWJ1dG9yMV80KCksXG4gICAgICAgIG5ldyBDdXN0b20xXzEoKSxcbiAgICAgIF0sXG5cbiAgICAgIFtDbGllbnRDb25maWdWZXJzaW9uT3B0aW9uLlYxXzNdOiBbXG4gICAgICAgIG5ldyBBdXRoMV8zKCksXG4gICAgICAgIG5ldyBEYXRhMV8xKHRoaXMubW9kZWxJbnRyb3NwZWN0aW9uU2NoZW1hQWRhcHRlciksXG4gICAgICAgIG5ldyBTdG9yYWdlMV8yKCksXG4gICAgICAgIG5ldyBWZXJzaW9uQ29udHJpYnV0b3JWMV8zKCksXG4gICAgICAgIG5ldyBDdXN0b20xXzEoKSxcbiAgICAgIF0sXG5cbiAgICAgIFtDbGllbnRDb25maWdWZXJzaW9uT3B0aW9uLlYxXzJdOiBbXG4gICAgICAgIG5ldyBBdXRoMV8xKCksXG4gICAgICAgIG5ldyBEYXRhMV8xKHRoaXMubW9kZWxJbnRyb3NwZWN0aW9uU2NoZW1hQWRhcHRlciksXG4gICAgICAgIG5ldyBTdG9yYWdlMV8yKCksXG4gICAgICAgIG5ldyBWZXJzaW9uQ29udHJpYnV0b3JWMV8yKCksXG4gICAgICAgIG5ldyBDdXN0b20xXzEoKSxcbiAgICAgIF0sXG5cbiAgICAgIFtDbGllbnRDb25maWdWZXJzaW9uT3B0aW9uLlYxXzFdOiBbXG4gICAgICAgIG5ldyBBdXRoMV8xKCksXG4gICAgICAgIG5ldyBEYXRhMV8xKHRoaXMubW9kZWxJbnRyb3NwZWN0aW9uU2NoZW1hQWRhcHRlciksXG4gICAgICAgIG5ldyBTdG9yYWdlMV8xKCksXG4gICAgICAgIG5ldyBWZXJzaW9uQ29udHJpYnV0b3JWMV8xKCksXG4gICAgICAgIG5ldyBDdXN0b20xXzEoKSxcbiAgICAgIF0sXG5cbiAgICAgIC8vIEV4Y2VwdCBmb3Igc3RvcmFnZSBhbmQgdmVyc2lvbiwgb3RoZXIgY29udHJpYnV0b3JzIGFyZSBzYW1lIGFzIFYxXG4gICAgICBbQ2xpZW50Q29uZmlnVmVyc2lvbk9wdGlvbi5WMV06IFtcbiAgICAgICAgbmV3IEF1dGgxXzEoKSxcbiAgICAgICAgbmV3IERhdGExXzEodGhpcy5tb2RlbEludHJvc3BlY3Rpb25TY2hlbWFBZGFwdGVyKSxcbiAgICAgICAgbmV3IFN0b3JhZ2UxKCksXG4gICAgICAgIG5ldyBWZXJzaW9uQ29udHJpYnV0b3JWMSgpLFxuICAgICAgICBuZXcgQ3VzdG9tMV8xKCksXG4gICAgICBdLFxuXG4gICAgICAvLyBMZWdhY3kgY29uZmlnIGlzIGRlcml2ZWQgZnJvbSBWMS40IChsYXRlc3QpIG9mIHVuaWZpZWQgZGVmYXVsdCBjb25maWdcbiAgICAgIFtDbGllbnRDb25maWdWZXJzaW9uT3B0aW9uLlYwXTogW1xuICAgICAgICBuZXcgQXV0aDFfMSgpLFxuICAgICAgICBuZXcgRGF0YTFfMSh0aGlzLm1vZGVsSW50cm9zcGVjdGlvblNjaGVtYUFkYXB0ZXIpLFxuICAgICAgICBuZXcgU3RvcmFnZTFfMigpLFxuICAgICAgICBuZXcgVmVyc2lvbkNvbnRyaWJ1dG9yMV80KCksXG4gICAgICAgIG5ldyBDdXN0b20xXzEoKSxcbiAgICAgIF0sXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYWxsIHRoZSBjb250cmlidXRvcnMgZm9yIHRoZSBnaXZlbiB2ZXJzaW9uXG4gICAqL1xuICBnZXRDb250cmlidXRvcnModmVyc2lvbjogQ2xpZW50Q29uZmlnVmVyc2lvbikge1xuICAgIHJldHVybiB0aGlzLnZlcnNpb25lZENsaWVudENvbmZpZ0NvbnRyaWJ1dG9yc1t2ZXJzaW9uXTtcbiAgfVxufVxuIl19