import opn from 'open';
import { printer } from '@aws-amplify/cli-core';
/**
 * Helper class to open apps (URLs, files, executable). Cross-platform.
 */
export class Open {
    static open = async (target, options) => {
        let childProcess;
        try {
            childProcess = await opn(target, options);
            childProcess.on('error', (e) => this.handleOpenError(e, target));
        }
        catch (e) {
            this.handleOpenError(e, target);
            return;
        }
        return childProcess;
    };
    static handleOpenError = (err, target) => {
        printer.log(`Unable to open ${target}: ${err.message}`);
        if ('code' in err && err['code'] === 'ENOENT') {
            printer.log('Have you installed `xdg-utils` on your machine?');
        }
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3Blbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tYW5kcy9vcGVuL29wZW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxHQUFnQixNQUFNLE1BQU0sQ0FBQztBQUVwQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFaEQ7O0dBRUc7QUFDSCxNQUFNLE9BQU8sSUFBSTtJQUNmLE1BQU0sQ0FBQyxJQUFJLEdBQUcsS0FBSyxFQUNqQixNQUFjLEVBQ2QsT0FBZ0IsRUFDYyxFQUFFO1FBQ2hDLElBQUksWUFBMEIsQ0FBQztRQUMvQixJQUFJLENBQUM7WUFDSCxZQUFZLEdBQUcsTUFBTSxHQUFHLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQzFDLFlBQVksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ25FLENBQUM7UUFBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1lBQ1gsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFVLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDekMsT0FBTztRQUNULENBQUM7UUFDRCxPQUFPLFlBQVksQ0FBQztJQUN0QixDQUFDLENBQUM7SUFFRixNQUFNLENBQUMsZUFBZSxHQUFHLENBQUMsR0FBVSxFQUFFLE1BQWMsRUFBRSxFQUFFO1FBQ3RELE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLE1BQU0sS0FBSyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUN4RCxJQUFJLE1BQU0sSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLFFBQVEsRUFBRSxDQUFDO1lBQzlDLE9BQU8sQ0FBQyxHQUFHLENBQUMsaURBQWlELENBQUMsQ0FBQztRQUNqRSxDQUFDO0lBQ0gsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG9wbiwgeyBPcHRpb25zIH0gZnJvbSAnb3Blbic7XG5pbXBvcnQgeyBDaGlsZFByb2Nlc3MgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCB7IHByaW50ZXIgfSBmcm9tICdAYXdzLWFtcGxpZnkvY2xpLWNvcmUnO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBvcGVuIGFwcHMgKFVSTHMsIGZpbGVzLCBleGVjdXRhYmxlKS4gQ3Jvc3MtcGxhdGZvcm0uXG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuIHtcbiAgc3RhdGljIG9wZW4gPSBhc3luYyAoXG4gICAgdGFyZ2V0OiBzdHJpbmcsXG4gICAgb3B0aW9uczogT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxDaGlsZFByb2Nlc3MgfCB2b2lkPiA9PiB7XG4gICAgbGV0IGNoaWxkUHJvY2VzczogQ2hpbGRQcm9jZXNzO1xuICAgIHRyeSB7XG4gICAgICBjaGlsZFByb2Nlc3MgPSBhd2FpdCBvcG4odGFyZ2V0LCBvcHRpb25zKTtcbiAgICAgIGNoaWxkUHJvY2Vzcy5vbignZXJyb3InLCAoZSkgPT4gdGhpcy5oYW5kbGVPcGVuRXJyb3IoZSwgdGFyZ2V0KSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5oYW5kbGVPcGVuRXJyb3IoZSBhcyBFcnJvciwgdGFyZ2V0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkUHJvY2VzcztcbiAgfTtcblxuICBzdGF0aWMgaGFuZGxlT3BlbkVycm9yID0gKGVycjogRXJyb3IsIHRhcmdldDogc3RyaW5nKSA9PiB7XG4gICAgcHJpbnRlci5sb2coYFVuYWJsZSB0byBvcGVuICR7dGFyZ2V0fTogJHtlcnIubWVzc2FnZX1gKTtcbiAgICBpZiAoJ2NvZGUnIGluIGVyciAmJiBlcnJbJ2NvZGUnXSA9PT0gJ0VOT0VOVCcpIHtcbiAgICAgIHByaW50ZXIubG9nKCdIYXZlIHlvdSBpbnN0YWxsZWQgYHhkZy11dGlsc2Agb24geW91ciBtYWNoaW5lPycpO1xuICAgIH1cbiAgfTtcbn1cbiJdfQ==