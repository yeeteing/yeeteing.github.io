import { SSMServiceException } from '@aws-sdk/client-ssm';
/**
 * Secret Error.
 */
export class SecretError extends Error {
    cause;
    httpStatusCode;
    /**
     * Creates a secret error instance.
     */
    constructor(message, options) {
        super(message);
        this.name = 'SecretError';
        this.cause = options?.cause;
        this.httpStatusCode = options?.httpStatusCode;
    }
    /**
     * Creates a secret error from an underlying cause.
     */
    static createInstance = (cause) => {
        if (cause instanceof SSMServiceException) {
            return SecretError.fromSSMException(cause);
        }
        return new SecretError(cause.message, { cause });
    };
    /**
     * Creates a secret error from an SSM exception.
     */
    static fromSSMException = (ssmException) => {
        // the SSM error message is wrong/misleading, like 'UnknownError'. We will stringify the
        // whole err object instead.
        return new SecretError(JSON.stringify(ssmException), {
            cause: ssmException,
            httpStatusCode: ssmException.$metadata.httpStatusCode,
        });
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VjcmV0X2Vycm9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3NlY3JldF9lcnJvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUUxRDs7R0FFRztBQUNILE1BQU0sT0FBTyxXQUFZLFNBQVEsS0FBSztJQUM3QixLQUFLLENBQVM7SUFDZCxjQUFjLENBQVU7SUFFL0I7O09BRUc7SUFDSCxZQUNFLE9BQWUsRUFDZixPQUdDO1FBRUQsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLElBQUksR0FBRyxhQUFhLENBQUM7UUFDMUIsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLEVBQUUsS0FBSyxDQUFDO1FBQzVCLElBQUksQ0FBQyxjQUFjLEdBQUcsT0FBTyxFQUFFLGNBQWMsQ0FBQztJQUNoRCxDQUFDO0lBRUQ7O09BRUc7SUFDSCxNQUFNLENBQUMsY0FBYyxHQUFHLENBQUMsS0FBWSxFQUFlLEVBQUU7UUFDcEQsSUFBSSxLQUFLLFlBQVksbUJBQW1CLEVBQUUsQ0FBQztZQUN6QyxPQUFPLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3QyxDQUFDO1FBQ0QsT0FBTyxJQUFJLFdBQVcsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztJQUNuRCxDQUFDLENBQUM7SUFFRjs7T0FFRztJQUNLLE1BQU0sQ0FBQyxnQkFBZ0IsR0FBRyxDQUNoQyxZQUFpQyxFQUNwQixFQUFFO1FBQ2Ysd0ZBQXdGO1FBQ3hGLDRCQUE0QjtRQUM1QixPQUFPLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFDbkQsS0FBSyxFQUFFLFlBQVk7WUFDbkIsY0FBYyxFQUFFLFlBQVksQ0FBQyxTQUFTLENBQUMsY0FBYztTQUN0RCxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTU01TZXJ2aWNlRXhjZXB0aW9uIH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LXNzbSc7XG5cbi8qKlxuICogU2VjcmV0IEVycm9yLlxuICovXG5leHBvcnQgY2xhc3MgU2VjcmV0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHB1YmxpYyBjYXVzZT86IEVycm9yO1xuICBwdWJsaWMgaHR0cFN0YXR1c0NvZGU/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzZWNyZXQgZXJyb3IgaW5zdGFuY2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IHtcbiAgICAgIGNhdXNlPzogRXJyb3I7XG4gICAgICBodHRwU3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICB9LFxuICApIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSAnU2VjcmV0RXJyb3InO1xuICAgIHRoaXMuY2F1c2UgPSBvcHRpb25zPy5jYXVzZTtcbiAgICB0aGlzLmh0dHBTdGF0dXNDb2RlID0gb3B0aW9ucz8uaHR0cFN0YXR1c0NvZGU7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHNlY3JldCBlcnJvciBmcm9tIGFuIHVuZGVybHlpbmcgY2F1c2UuXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlSW5zdGFuY2UgPSAoY2F1c2U6IEVycm9yKTogU2VjcmV0RXJyb3IgPT4ge1xuICAgIGlmIChjYXVzZSBpbnN0YW5jZW9mIFNTTVNlcnZpY2VFeGNlcHRpb24pIHtcbiAgICAgIHJldHVybiBTZWNyZXRFcnJvci5mcm9tU1NNRXhjZXB0aW9uKGNhdXNlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTZWNyZXRFcnJvcihjYXVzZS5tZXNzYWdlLCB7IGNhdXNlIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc2VjcmV0IGVycm9yIGZyb20gYW4gU1NNIGV4Y2VwdGlvbi5cbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGZyb21TU01FeGNlcHRpb24gPSAoXG4gICAgc3NtRXhjZXB0aW9uOiBTU01TZXJ2aWNlRXhjZXB0aW9uLFxuICApOiBTZWNyZXRFcnJvciA9PiB7XG4gICAgLy8gdGhlIFNTTSBlcnJvciBtZXNzYWdlIGlzIHdyb25nL21pc2xlYWRpbmcsIGxpa2UgJ1Vua25vd25FcnJvcicuIFdlIHdpbGwgc3RyaW5naWZ5IHRoZVxuICAgIC8vIHdob2xlIGVyciBvYmplY3QgaW5zdGVhZC5cbiAgICByZXR1cm4gbmV3IFNlY3JldEVycm9yKEpTT04uc3RyaW5naWZ5KHNzbUV4Y2VwdGlvbiksIHtcbiAgICAgIGNhdXNlOiBzc21FeGNlcHRpb24sXG4gICAgICBodHRwU3RhdHVzQ29kZTogc3NtRXhjZXB0aW9uLiRtZXRhZGF0YS5odHRwU3RhdHVzQ29kZSxcbiAgICB9KTtcbiAgfTtcbn1cbiJdfQ==